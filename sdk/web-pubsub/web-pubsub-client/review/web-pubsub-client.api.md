## API Report File for "@azure/web-pubsub-client"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

/// <reference types="node" />

import { AbortSignalLike } from '@azure/abort-controller';
import { CloseEvent } from 'ws';

// @public (undocumented)
export interface AckMessage extends WebPubSubMessage {
    // (undocumented)
    ackId: number;
    // (undocumented)
    error?: ErrorDetail;
    // (undocumented)
    success: boolean;
    // (undocumented)
    readonly _type: DownstreamMessageType.Ack;
}

// @public (undocumented)
export interface AckResult {
    // (undocumented)
    ack: AckMessage;
}

// @public (undocumented)
export interface ConnectedMessage extends WebPubSubMessage {
    // (undocumented)
    connectionId: string;
    // (undocumented)
    reconnectionToken: string;
    // (undocumented)
    readonly _type: DownstreamMessageType.Connected;
    // (undocumented)
    userId: string;
}

// @public (undocumented)
export interface DataMessage extends WebPubSubMessage {
    // (undocumented)
    data: any;
    // (undocumented)
    dataType: WebPubSubDataType;
    // (undocumented)
    sequenceId?: number;
}

// @public (undocumented)
export class DefaultWebPubSubClientCredential implements WebPubSubClientCredential {
    constructor(token: string);
    constructor(tokenProvider: TokenProvider);
    getClientAccessUri(abortSignal?: AbortSignalLike): Promise<string>;
}

// @public (undocumented)
export interface DisconnectedMessage extends WebPubSubMessage {
    // (undocumented)
    message: string;
    // (undocumented)
    readonly _type: DownstreamMessageType.Disconnected;
}

// @public (undocumented)
export enum DownstreamMessageType {
    // (undocumented)
    Ack = "Ack",
    // (undocumented)
    Connected = "Connected",
    // (undocumented)
    Disconnected = "Disconnected",
    // (undocumented)
    GroupData = "GroupData",
    // (undocumented)
    ServerData = "ServerData"
}

// @public (undocumented)
export interface ErrorDetail {
    // (undocumented)
    message: string;
    // (undocumented)
    name: string;
}

// @public (undocumented)
export interface GroupDataMessage extends DataMessage {
    // (undocumented)
    fromUserId: string;
    // (undocumented)
    group: string;
    // (undocumented)
    readonly _type: DownstreamMessageType.GroupData;
}

// @public (undocumented)
export interface JoinGroupMessage extends WebPubSubMessage {
    // (undocumented)
    ackId?: number;
    // (undocumented)
    group: string;
    // (undocumented)
    readonly _type: UpstreamMessageType.JoinGroup;
}

// @public (undocumented)
export interface LeaveGroupMessage extends WebPubSubMessage {
    // (undocumented)
    ackId?: number;
    // (undocumented)
    group: string;
    // (undocumented)
    readonly _type: UpstreamMessageType.LeaveGroup;
}

// @public (undocumented)
export type OnConnected = (args: OnConnectedArgs) => Promise<void>;

// @public (undocumented)
export interface OnConnectedArgs {
    // (undocumented)
    message: ConnectedMessage;
}

// @public (undocumented)
export interface OnDataMessageArgs {
    // (undocumented)
    message: DataMessage;
}

// @public (undocumented)
export type OnDisconnected = (args: OnDisconnectedArgs) => Promise<void>;

// @public (undocumented)
export interface OnDisconnectedArgs {
    // (undocumented)
    event?: CloseEvent;
    // (undocumented)
    message?: DisconnectedMessage;
}

// @public (undocumented)
export interface OnGroupDataMessageArgs {
    // (undocumented)
    message: GroupDataMessage;
}

// @public (undocumented)
export type OnGroupMessageReceived = (args: OnGroupDataMessageArgs) => Promise<void>;

// @public (undocumented)
export type OnMessage = (args: OnDataMessageArgs) => Promise<void>;

// @public (undocumented)
export interface ReconnectionOptions {
    // (undocumented)
    autoReconnect: boolean;
    // (undocumented)
    autoRejoinGroups: boolean;
}

// @public (undocumented)
export interface SendEventMessage extends WebPubSubMessage {
    // (undocumented)
    ackId?: number;
    // (undocumented)
    data: any;
    // (undocumented)
    dataType: WebPubSubDataType;
    // (undocumented)
    event: string;
    // (undocumented)
    readonly _type: UpstreamMessageType.SendEvent;
}

// @public (undocumented)
export class SendMessageError extends Error {
    constructor(message: string, ackMessage?: AckMessage);
    // (undocumented)
    ackMessage?: AckMessage;
    // (undocumented)
    name: string;
}

// @public (undocumented)
export interface SendToGroupMessage extends WebPubSubMessage {
    // (undocumented)
    ackId?: number;
    // (undocumented)
    data: any;
    // (undocumented)
    dataType: WebPubSubDataType;
    // (undocumented)
    group: string;
    // (undocumented)
    noEcho: boolean;
    // (undocumented)
    readonly _type: UpstreamMessageType.SendToGroup;
}

// @public (undocumented)
export interface SendToGroupOptions {
    // (undocumented)
    fireAndForget: boolean;
    // (undocumented)
    noEcho: boolean;
}

// @public (undocumented)
export interface SendToServerOptions {
    // (undocumented)
    fireAndForget: boolean;
}

// @public (undocumented)
export interface SequenceAckMessage extends WebPubSubMessage {
    // (undocumented)
    sequenceId: number;
    // (undocumented)
    readonly _type: UpstreamMessageType.SequenceAck;
}

// @public (undocumented)
export interface ServerDataMessage extends DataMessage {
    // (undocumented)
    readonly _type: DownstreamMessageType.ServerData;
}

// @public (undocumented)
export type TokenProvider = (abortSignal?: AbortSignalLike) => Promise<string>;

// @public (undocumented)
export enum UpstreamMessageType {
    // (undocumented)
    JoinGroup = "JoinGroup",
    // (undocumented)
    LeaveGroup = "LeaveGroup",
    // (undocumented)
    SendEvent = "SendEvent",
    // (undocumented)
    SendToGroup = "SendToGroup",
    // (undocumented)
    SequenceAck = "SequenceAck"
}

// @public (undocumented)
export class WebPubSubClient {
    constructor(clientAccessUri: string, options?: WebPubSubClientOptions);
    constructor(credential: WebPubSubClientCredential, options?: WebPubSubClientOptions);
    // (undocumented)
    connect(abortSignal?: AbortSignalLike): Promise<void>;
    // (undocumented)
    joinGroup(groupName: string, ackId?: number, abortSignal?: AbortSignalLike): Promise<AckResult>;
    // (undocumented)
    leaveGroup(groupName: string, ackId?: number, abortSignal?: AbortSignalLike): Promise<AckResult>;
    // (undocumented)
    onConnected?: OnConnected;
    // (undocumented)
    onDisconnected?: OnDisconnected;
    // (undocumented)
    onGroupMessage(groupName: string, calback: OnGroupMessageReceived): void;
    // (undocumented)
    onMessage?: OnMessage;
    // (undocumented)
    sendToGroup(groupName: string, content: string | ArrayBuffer, dataType: WebPubSubDataType, ackId?: number, options?: SendToGroupOptions, abortSignal?: AbortSignalLike): Promise<void | AckResult>;
    // (undocumented)
    sendToServer(eventName: string, content: string | ArrayBuffer, dataType: WebPubSubDataType, ackId?: number, options?: SendToServerOptions, abortSignal?: AbortSignalLike): Promise<void | AckResult>;
    // (undocumented)
    stop(): void;
}

// @public (undocumented)
export interface WebPubSubClientCredential {
    getClientAccessUri(abortSignal?: AbortSignalLike): Promise<string>;
}

// @public (undocumented)
export interface WebPubSubClientOptions {
    // (undocumented)
    protocol: WebPubSubClientProtocol;
    // (undocumented)
    reconnectionOptions: ReconnectionOptions;
}

// @public (undocumented)
export interface WebPubSubClientProtocol {
    // (undocumented)
    isReliableSubProtocol: boolean;
    // (undocumented)
    name: string;
    parseMessages(input: string | ArrayBuffer | Buffer): WebPubSubMessage;
    writeMessage(message: WebPubSubMessage): string | ArrayBuffer;
}

// @public (undocumented)
export enum WebPubSubDataType {
    // (undocumented)
    Binary = "Binary",
    // (undocumented)
    Json = "Json",
    // (undocumented)
    Protobuf = "Protobuf",
    // (undocumented)
    Text = "Text"
}

// @public (undocumented)
export class WebPubSubJsonProtocol implements WebPubSubClientProtocol {
    // (undocumented)
    isReliableSubProtocol: boolean;
    // (undocumented)
    name: string;
    // (undocumented)
    parseMessages(input: string): WebPubSubMessage;
    // (undocumented)
    writeMessage(message: WebPubSubMessage): string;
}

// @public (undocumented)
export class WebPubSubJsonReliableProtocol implements WebPubSubClientProtocol {
    // (undocumented)
    isReliableSubProtocol: boolean;
    // (undocumented)
    name: string;
    // (undocumented)
    parseMessages(input: string): WebPubSubMessage;
    // (undocumented)
    writeMessage(message: WebPubSubMessage): string;
}

// @public (undocumented)
export interface WebPubSubMessage {
    // (undocumented)
    _type: DownstreamMessageType | UpstreamMessageType;
}

// (No @packageDocumentation comment for this package)

```
